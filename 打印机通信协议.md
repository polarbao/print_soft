### 打印机通信协议

#### 通信方式
TCP/IP形式进行通信，
QT上位机作为客户端，树莓派作为服务器进行连接。连接监听端口为5555

#### 报文格式
**协议格式：**
包头(2byte) + 长度(2byte) + 命令(2byte) + 地址(1byte) + 数据区(动态，从0到nbyte) + crc16校验(2byte) + 包尾(2byte)
长度 = 报文总长度 - 包头 - 包尾
客户端发送命令最高位以数据奇数开头(0x1000,0x3000)，树莓派回复应答命令最高位以偶数位(0x2000, 0x4000)；其余低位原样返回

**包头(2字节)**
包头		0xAABB

**命令(2字节)**
**设置**
//打印相关设置
开始打印			0x1200
暂停打印			0x1201
停止打印			0x1202
恢复打印			0x1203
打印复位			0x1204
传输数据			0x1205

//龙门相关设置
X轴前进			0x1300
Y轴前进			0x1301
Z轴前进			0x1302
3轴前进			0x1303

X轴后退			0x1305
Y轴后退			0x1306
Z轴后退			0x1307
3轴后退			0x1308

X轴复位			0x1310
Y轴复位			0x1311
Z轴复位			0x1312
3轴复位			0x1313


X轴移动至打印位置	0x1320
Y轴移动至打印位置	0x1321
Z轴移动至打印位置	0x1322
3轴移动至打印位置	0x1323


**读取**
X轴位置			0x3400
Y轴位置			0x3401
Z轴位置			0x3402
3轴位置			0x3403

X轴速度			0x3410
Y轴速度			0x3411
Z轴速度			0x3412
3轴速度			0x3413

打印状态         0x3500
打印完成         0x3501
是否清洗
清洗状态

**地址(1字节)**
命令                0x00

**包尾(2字节)**		
命令				0xDDEE





#### 图像报文格式
图像报文数据：长(2byte) + 宽(2byte) + 类型(1byte) + 长度(2byte) + 数据信息(1006byte)
报文总长度为(1024byte)：
固定命令报文(11byte)  + 图像报文(1013byte)